---
import TimelineItem from './TimelineItem.astro';
import YearMarker from './YearMarker.astro';
import { getTimelineData } from '../data/timeline';

const timelineData = getTimelineData();
---

<section class="timeline-section">
  <div class="timeline-container">
    <div class="timeline-wrapper">
      <div class="timeline-line"></div>
      
      <div class="timeline-items">
        {timelineData.map(item => (
          <div class="timeline-entry">
            <div class="timeline-content">
              <TimelineItem {...item} />
            </div>
            <YearMarker year={item.start} />
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .timeline-section {
    padding-top: 1.25rem;
    padding-bottom: 5rem;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  .timeline-container {
    max-width: 50rem;
    margin: 0 auto;
  }

  .timeline-wrapper {
    position: relative;
  }

  .timeline-line {
    position: absolute;
    left: 1rem;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #d1d5db;
  }

  .timeline-items {
    display: flex;
    flex-direction: column;
    gap: 3rem;
    padding-top: 2rem;
  }

  .timeline-entry {
    position: relative;
  }

  .timeline-content {
    margin-left: 3rem;
  }

  @media (max-width: 640px) {
    .timeline-section {
      padding-left: 0.75rem;
      padding-right: 0.75rem;
    }
    
    .timeline-line {
      left: 0.75rem;
    }
    
    .timeline-content {
      margin-left: 2.25rem;
    }
    
    .timeline-items {
      gap: 2rem;
    }
  }
</style>